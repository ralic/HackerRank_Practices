/**************************************************************************
 * This file is generated by Java2C
 **copyright***************************************************************
 *************************************************************************/
#include "ExtendsImpl_Test.h"
#include <string.h>  //because using memset()
#include <Jc/ReflectionJc.h>   //Reflection concept 
#include <Fwc/fw_Exception.h>  //basic stacktrace concept

/*** This class extends {@link ImpIfc} to demonstrate the inheritance of classes.
* The baseclass {@link ImpIfc} is an example of a class which implements 2 different
* but non-exclusive interfaces, see there. This class overrides one method:
* {@link ImplIfc#processIfcMethod(int)}, see {@link #processIfcMethod(int)}.
* Follow the dynamic call (virtual) explainations and test it.
* It is an concept which is prevalent in Java and Object Orientation, but not so relevant
* in most C applications.
* @author Hartmut Schorrig
*
*/


const char sign_Mtbl_ExtendsImpl_Test[] = "ExtendsImpl_Test"; //to mark method tables of all implementations

typedef struct MtblDef_ExtendsImpl_Test_t { Mtbl_ExtendsImpl_Test mtbl; MtblHeadJc end; } MtblDef_ExtendsImpl_Test;
 extern MtblDef_ExtendsImpl_Test const mtblExtendsImpl_Test;

/*Constructor */
struct ExtendsImpl_Test_t* ctorO_ExtendsImpl_Test(ObjectJc* othis, ThCxt* _thCxt)
{ ExtendsImpl_Test_s* ythis = (ExtendsImpl_Test_s*)othis;  //upcasting to the real class.
  STACKTRC_TENTRY("ctorO_ExtendsImpl_Test");
  checkConsistence_ObjectJc(othis, sizeof(ExtendsImpl_Test_s), null, _thCxt);  
  //J2C:super Constructor
  ctorO_ImplIfcTest(/*static*/othis, 234, _thCxt);
  setReflection_ObjectJc(othis, &reflection_ExtendsImpl_Test_s, sizeof(ExtendsImpl_Test_s));  
  //j2c: Initialize all class variables:
  {
  }
  { 
    
    
  }
  STACKTRC_LEAVE;
  return ythis;
}



/**This method is the overridden form of*/
int32 testOverridden_f_ExtendsImpl_Test_F(ImplIfcTest_s* ithis, float value, ThCxt* _thCxt)
{ ExtendsImpl_Test_s* ythis = (ExtendsImpl_Test_s*)ithis;
  
  STACKTRC_TENTRY("testOverridden_f_ExtendsImpl_Test_F");
  
  { 
    
    ASSERT(/*static*/ instanceof_ObjectJc(& ((* (ythis)).base.super.base.Ifc2_Test.base.object), &reflection_ExtendsImpl_Test_s));
    { STACKTRC_LEAVE;
      return (int32)(value / 1000);
    }
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
int32 testOverridden_f_ExtendsImpl_Test(ImplIfcTest_s* ithis, float value, ThCxt* _thCxt)
{ Mtbl_ImplIfcTest const* mtbl = (Mtbl_ImplIfcTest const*)getMtbl_ObjectJc(&ithis->base.object, sign_Mtbl_ImplIfcTest);
  return mtbl->testOverridden((ImplIfcTest_s*)ithis, value, _thCxt);
}



/**J2C: Reflections and Method-table *************************************************/
const MtblDef_ExtendsImpl_Test mtblExtendsImpl_Test = {
{ { sign_Mtbl_ExtendsImpl_Test//J2C: Head of methodtable.
  , (struct Size_Mtbl_t*)((0 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
  }
, { { sign_Mtbl_ImplIfcTest//J2C: Head of methodtable.
    , (struct Size_Mtbl_t*)((4 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
    }
  , testOverrideAble_ImplIfcTest_F //testOverrideAble
  , testOverridden_f_ExtendsImpl_Test_F //testOverridden
  , returnThisOverrideable_ImplIfcTest_F //returnThisOverrideable
  , returnAnyInstanceOverrideable_ImplIfcTest_F //returnAnyInstanceOverrideable
  , { { sign_Mtbl_SimpleClass_Test//J2C: Head of methodtable.
      , (struct Size_Mtbl_t*)((2 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
      }
    , addValue_SimpleClass_Test_F //addValue
    , getValue_SimpleClass_Test_F //getValue
    , { { sign_Mtbl_ObjectJc//J2C: Head of methodtable.
        , (struct Size_Mtbl_t*)((5 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
        }
      , clone_ObjectJc_F //clone
      , equals_ObjectJc_F //equals
      , finalize_ImplIfcTest_F //finalize
      , hashCode_ObjectJc_F //hashCode
      , toString_ImplIfcTest_F //toString
      }
    }
    /**J2C: Mtbl-interfaces of ExtendsImpl_Test: */
  , { { sign_Mtbl_IfcToTest//J2C: Head of methodtable.
      , (struct Size_Mtbl_t*)((3 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
      }
    , processIfcMethod_i_ImplIfcTest_F //processIfcMethod
    , anotherIfcmethod_i_ImplIfcTest //anotherIfcmethod_i
    , anotherIfcmethod_f_ImplIfcTest_F //anotherIfcmethod_f
    , { { sign_Mtbl_ObjectJc//J2C: Head of methodtable.
        , (struct Size_Mtbl_t*)((5 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
        }
      , clone_ObjectJc_F //clone
      , equals_ObjectJc_F //equals
      , finalize_ImplIfcTest_F //finalize
      , hashCode_ObjectJc_F //hashCode
      , toString_ImplIfcTest_F //toString
      }
    }
  , { { sign_Mtbl_Ifc2_Test//J2C: Head of methodtable.
      , (struct Size_Mtbl_t*)((3 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
      }
    , processIfcMethod_f_ImplIfcTest //processIfcMethod
    , testIfc2_f_ImplIfcTest //testIfc2
    , anotherIfcmethod_f_ImplIfcTest_F //anotherIfcmethod
    , { { sign_Mtbl_ObjectJc//J2C: Head of methodtable.
        , (struct Size_Mtbl_t*)((5 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
        }
      , clone_ObjectJc_F //clone
      , equals_ObjectJc_F //equals
      , finalize_ImplIfcTest_F //finalize
      , hashCode_ObjectJc_F //hashCode
      , toString_ImplIfcTest_F //toString
      }
    }
  }
}, { signEnd_Mtbl_ObjectJc, null } }; //Mtbl


 extern struct ClassJc_t const reflection_ImplIfcTest_s;
 static struct superClasses_ExtendsImpl_Test_s_t
 { ObjectArrayJc head;
   ClassOffset_idxMtblJc data[1];
 }superclasses_ExtendsImpl_Test_s =
 { CONST_ObjectArrayJc(ClassOffset_idxMtblJc, 1, OBJTYPE_ClassOffset_idxMtblJc, null, null)
 , { {&reflection_ImplIfcTest_s, OFFSET_Mtbl(Mtbl_ExtendsImpl_Test, ImplIfcTest) }
   }
 };

const ClassJc reflection_ExtendsImpl_Test_s = 
{ CONST_ObjectJc(OBJTYPE_ClassJc + sizeof(ClassJc), &reflection_ObjectJc, &reflection_ClassJc) 
, "ExtendsImpl_Test_s"
,  0 //position of ObjectJc
, sizeof(ExtendsImpl_Test_s)
, null //attributes and associations
, null //method
, (ClassOffset_idxMtblJcARRAY*)&superclasses_ExtendsImpl_Test_s //superclass
, null //interfaces
, 0    //modifiers
, &mtblExtendsImpl_Test.mtbl.head
};
