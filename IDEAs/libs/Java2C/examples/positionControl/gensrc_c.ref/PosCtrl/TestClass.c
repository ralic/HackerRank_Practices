/**************************************************************************
 * This file is generated by Java2C
 **copyright***************************************************************
 *************************************************************************/
#include "PosCtrl/TestClass.h"
#include <string.h>  //because using memset()
#include <Jc/ReflectionJc.h>   //Reflection concept 
#include <Fwc/fw_Exception.h>  //basic stacktrace concept

/**This class is only used to test how the garbage collector concept is implemented.
It is not used actively in running code yet, because the GC concept is just under construction.
@author JcHartmut

*/


const char sign_Mtbl_TestClass[] = "TestClass"; //to mark method tables of all implementations

typedef struct MtblDef_TestClass_t { Mtbl_TestClass mtbl; MtblHeadJc end; } MtblDef_TestClass;
 extern MtblDef_TestClass const mtblTestClass;

/*Constructor *//**J2C: autogenerated as default constructor. */
struct TestClass_t* ctorO_TestClass(ObjectJc* othis, ThCxt* _thCxt)
{ TestClass_s* ythis = (TestClass_s*)othis;  //upcasting to the real class.
  STACKTRC_TENTRY("ctorO_TestClass");
  checkConsistence_ObjectJc(othis, sizeof(TestClass_s), null, _thCxt);  
  setReflection_ObjectJc(othis, &reflection_TestClass_s, sizeof(TestClass_s));  
  //j2c: Initialize all class variables:
  {
  }/*J2C:No body for constructor*/

  STACKTRC_LEAVE;
  return ythis;
}


void set_TestClass_F(TestClass_s* ythis, int32 value, ThCxt* _thCxt)
{ 
  STACKTRC_TENTRY("set_TestClass_F");
  
  { 
    
    ythis->a = value;
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
void set_TestClass(TestClass_s* ythis, int32 value, ThCxt* _thCxt)
{ Mtbl_TestClass const* mtbl = (Mtbl_TestClass const*)getMtbl_ObjectJc(&ythis->base.object, sign_Mtbl_TestClass);
  mtbl->set(ythis, value, _thCxt);
}

int32 get_TestClass_F(TestClass_s* ythis, ThCxt* _thCxt)
{ 
  STACKTRC_TENTRY("get_TestClass_F");
  
  { 
    
    { STACKTRC_LEAVE;
      return ythis->a;
    }
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
int32 get_TestClass(TestClass_s* ythis, ThCxt* _thCxt)
{ Mtbl_TestClass const* mtbl = (Mtbl_TestClass const*)getMtbl_ObjectJc(&ythis->base.object, sign_Mtbl_TestClass);
  return mtbl->get(ythis, _thCxt);
}



/**J2C: Reflections and Method-table *************************************************/
const MtblDef_TestClass mtblTestClass = {
{ { sign_Mtbl_TestClass//J2C: Head of methodtable.
  , (struct Size_Mtbl_t*)((2 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
  }
, set_TestClass_F //set
, get_TestClass_F //get
, { { sign_Mtbl_ObjectJc//J2C: Head of methodtable.
    , (struct Size_Mtbl_t*)((5 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
    }
  , clone_ObjectJc_F //clone
  , equals_ObjectJc_F //equals
  , finalize_ObjectJc_F //finalize
  , hashCode_ObjectJc_F //hashCode
  , toString_ObjectJc_F //toString
  }
}, { signEnd_Mtbl_ObjectJc, null } }; //Mtbl


 extern struct ClassJc_t const reflection_ObjectJc;
 static struct superClasses_TestClass_s_t
 { ObjectArrayJc head;
   ClassOffset_idxMtblJc data[1];
 }superclasses_TestClass_s =
 { CONST_ObjectArrayJc(ClassOffset_idxMtblJc, 1, OBJTYPE_ClassOffset_idxMtblJc, null, null)
 , { {&reflection_ObjectJc, OFFSET_Mtbl(Mtbl_TestClass, ObjectJc) }
   }
 };

extern struct ClassJc_t const reflection_TestClass_s;
const struct Reflection_Fields_TestClass_s_t
{ ObjectArrayJc head; FieldJc data[1];
} reflection_Fields_TestClass_s =
{ CONST_ObjectArrayJc(FieldJc, 1, OBJTYPE_FieldJc, null, &reflection_Fields_TestClass_s)
, {
     { "a"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((TestClass_s*)(0x1000))->a) - (int32)(TestClass_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_TestClass_s
    }
} };
const ClassJc reflection_TestClass_s = 
{ CONST_ObjectJc(OBJTYPE_ClassJc + sizeof(ClassJc), &reflection_ObjectJc, &reflection_ClassJc) 
, "TestClass_s"
,  0 //position of ObjectJc
, sizeof(TestClass_s)
, (FieldJcArray const*)&reflection_Fields_TestClass_s
, null //method
, (ClassOffset_idxMtblJcARRAY*)&superclasses_TestClass_s //superclass
, null //interfaces
, 0    //modifiers
, &mtblTestClass.mtbl.head
};
